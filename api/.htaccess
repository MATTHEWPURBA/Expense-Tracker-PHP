# API Directory Router
# Routes requests in the api directory to physical PHP files

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /api/
    
    # Remove .php extension if present, then route to physical file
    # /api/auth/login -> /api/auth/login.php
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^([^/]+)/([^/]+)$ $1/$2.php [L]
    
    # Fallback: route subdirectories
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^([^/]+)/([^/]+)/(.+)$ $1/$2/$3.php [L]
</IfModule>

